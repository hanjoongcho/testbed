<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>

<!-- Scripts -->
<script src="../../lib/ckeditor/4.13.0_full/ckeditor.js"></script>
</head>
<body>
<a href="../../index.html">목록</a>
<h1>sample01</h1><br/>
<body>
<textarea name="editor1"></textarea>
<div id="preview">https://s.pstatic.net/static/www/mobile/edit/2019/1118/mobile_181023405706.jpg</div>
<script type="text/javascript">
    var config = {
        height: 450,
        resize_maxHeight: 600,
        /* filebrowserBrowseUrl: '/apps/ckfinder/3.4.5/ckfinder.html', */
        /* filebrowserImageBrowseUrl: '/apps/ckfinder/3.4.5/ckfinder.html?type=Images', */
        /* filebrowserUploadUrl: '/apps/ckfinder/3.4.5/core/connector/php/connector.php?command=QuickUpload&type=Files', */
        filebrowserImageUploadUrl: 'http://localhost:18080/upload/image',
        imageUploadUrl: 'http://localhost:18080/upload/image',
        image_previewText: ' ',
        toolbarGroups: [ {
            name : 'document',
            groups : [ 'mode', 'document', 'doctools' ]
        }, {
            name : 'clipboard',
            groups : [ 'clipboard', 'undo' ]
        }, {
            name : 'editing',
            groups : [ 'find', 'selection', 'spellchecker', 'editing' ]
        }, {
            name : 'forms',
            groups : [ 'forms' ]
        }, '/', {
            name : 'basicstyles',
            groups : [ 'basicstyles', 'cleanup' ]
        }, {
            name : 'paragraph',
            groups : [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ]
        }, {
            name : 'links',
            groups : [ 'links' ]
        }, {
            name : 'insert',
            groups : [ 'insert' ]
        }, '/', {
            name: 'styles',
        }, {
            name: 'colors',
        } ],
        /* https://ckeditor.com/old/forums/CKEditor/Complete-list-of-toolbar-items#comment-123266 */
        removeButtons: 'Flash,HorizontalRule,Iframe', 
        /* removePlugins: 'resize', */
        extraPlugins: 'dragresize'
    };
    //onfig.extraPlugins = 'uploadimage';
    
    var editor = CKEDITOR.replace('editor1', config);

    // https://dev.ckeditor.com/ticket/8504
    // https://m.blog.naver.com/PostView.nhn?blogId=callsonda&logNo=220308196784&proxyReferer=https%3A%2F%2Fwww.google.com%2F
    CKEDITOR.on('dialogDefinition', function(ev) {
        var dialogName = ev.data.name;
        var dialog = ev.data.definition.dialog;
        var dialogDefinition = ev.data.definition;
        if (dialogName == 'image') {
            dialog.on('show', function(obj) {
                this.selectPage('Upload');
            });
            dialogDefinition.removeContents('advanced');
            dialogDefinition.removeContents('Link');
        }
    });
</script>
</body>
</html>